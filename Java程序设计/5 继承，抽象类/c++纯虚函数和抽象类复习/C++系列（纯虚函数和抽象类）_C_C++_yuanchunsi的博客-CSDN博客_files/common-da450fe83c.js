function fixedSidebarInButton(){var t="left",e=$("main");if(window.location.pathname.indexOf("/column/info/")>-1){e=$("#column");var t="left"}window.csdn.fixedSidebar({targetBox:$(".blog_container_aside"),mainBox:e,sidebar:$(".blog_container_aside"),direction:t,position:"fixed",bottom:0,zIndex:99,sidebarRightMargin:8,sidebarLeftMargin:15})}function showInit(){$("<div id='st_mask' onclick='closeMask()'></div>").appendTo("body").css({width:"100%",height:"100%",background:"rgba(0,0,0,.4)",position:"fixed",left:"0",top:"0",display:"none","z-index":"1"}),$("<div id='st_confirmBox'></div>").appendTo("body").css({width:"100%",position:"fixed",left:"0",top:"34%","text-align":"center",display:"none","z-index":"2"}),$("<div id='st_confirm'></div>").appendTo("#st_confirmBox").css({width:"80%",margin:"0 auto",background:"#fff","border-radius":"3px",overflow:"hidden","padding-top":"20px","text-align":"center"}),$("<span id='st_confirm_text'></span>").appendTo("#st_confirm").css({background:"#fff",overflow:"hidden","padding-top":"20px","text-align":"center",display:"block",padding:"15px 8px 30px"}),$("<span class='st_confirm_btn cancel'></span>").appendTo("#st_confirm").css({background:"#fff",color:"#8d8d8d",padding:"8px","text-align":"center",display:"block",width:"50%",margin:"0 auto","float":"left","box-sizing":"border-box","border-top":"1px solid #cfcfcf",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}),$("<span class='st_confirm_btn success'></span>").appendTo("#st_confirm").css({background:"#1b79f8",color:"#fff",padding:"8px","text-align":"center",display:"block",width:"50%",margin:"0 auto","float":"left","box-sizing":"border-box","border-top":"1px solid #1b79f8",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}),$("<div></div>").appendTo("#st_confirm").css({clear:"both",display:"block"}),$("<div id='st_alertBox'></div>").appendTo("body").css({width:"100%",position:"fixed",left:"0",top:"34%","text-align":"center",display:"none","z-index":"2"}),$("<div id='st_alert'></div>").appendTo("#st_alertBox").css({width:"80%",margin:"0 auto",background:"#fff","border-radius":"2px",overflow:"hidden","padding-top":"20px","text-align":"center"}),$("<span id='st_alert_text'></span>").appendTo("#st_alert").css({background:"#fff",overflow:"hidden","padding-top":"20px","text-align":"center",display:"block",padding:"15px 8px 30px"}),$("<span id='st_alert_btn' onclick='closeMask()'></span>").appendTo("#st_alert").css({background:"#1b79f8",color:"#fff",padding:"8px","text-align":"center",display:"block",width:"72%",margin:"0 auto","margin-bottom":"20px","border-radius":"2px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}),$("<div id='st_toastBox'></div>").appendTo("body").css({width:"100%",position:"fixed",left:"0",bottom:"10%","text-align":"center",display:"none"}),$("<span id='st_toastContent'></span>").appendTo("#st_toastBox").css({color:"#fff",background:"rgba(0,0,0,.8)",padding:"8px 24px","border-radius":"4px","max-width":"80%",display:"inline-block","font-size":"16px"})}function showToast(t){if(!t.text)return!1;clearTimeout(st_timer),$("#st_toastBox").hide();var e=t.text,i=parseInt(t.time?t.time:2300),n=t.speed?t.speed:"normal",s=t.bottom?t.bottom:"10%";if(t.zindex){var o=parseInt(t.zindex);$("#st_mask").css({"z-index":o-1}),$("#st_toastBox").css({"z-index":o})}else $("#st_mask").css({"z-index":1}),$("#st_toastBox").css({"z-index":2});$("#st_toastBox").css({bottom:s}),$("#st_toastContent").text(e),$("#st_mask").fadeIn(n,function(){$("#st_toastBox").fadeIn(n)}),st_timer=setTimeout(function(){$("#st_toastBox").fadeOut(function(){$("#st_mask").fadeOut()})},i)}function showAlert(t){if(!t.text)return!1;var e=t.text,i=t.bgColor?t.bgColor:"#1b79f8",n=t.color?t.color:"#fff",s=t.btnText?t.btnText:"确定",o=t.top?t.top:"34%";if(t.zindex){var a=parseInt(t.zindex);$("#st_mask").css({"z-index":a-1}),$("#st_alertBox").css({"z-index":a})}else $("#st_mask").css({"z-index":1}),$("#st_alertBox").css({"z-index":2});$("#st_alert_text").text(e),$("#st_alert_btn").css({background:i}),$("#st_alert_btn").css({color:n}),$("#st_alert_btn").text(s),$("#st_alertBox").css({top:o}),$("#st_mask,#st_alertBox").show(),t.success&&$("#st_alert_btn").off("click").on("click",function(){t.success()})}function showConfirm(t){if(!t.text)return!1;var e=t.text,i=t.rightText?t.rightText:"确定",n=t.rightBgColor?t.rightBgColor:"#1b79f8",s=t.rightColor?t.rightColor:"#fff",o=t.leftText?t.leftText:"取消",a=t.top?t.top:"34%";if(t.zindex){var r=parseInt(t.zindex);$("#st_mask").css({"z-index":r-1}),$("#st_confirmBox").css({"z-index":r})}else $("#st_mask").css({"z-index":1}),$("#st_confirmBox").css({"z-index":2});$("#st_confirm_text").text(e),$(".st_confirm_btn.cancel").text(o),$(".st_confirm_btn.success").text(i),$(".st_confirm_btn.success").css({background:n,color:s,"border-top":"1px solid "+n}),$("#st_confirmBox").css({top:a}),$("#st_mask,#st_confirmBox").show(),t.cancel?$(".st_confirm_btn.cancel").off("click").on("click",function(){closeMask(),t.cancel()}):$(".st_confirm_btn.cancel").off("click").on("click",function(){closeMask()}),t.success?$(".st_confirm_btn.success").off("click").on("click",function(){closeMask(),t.success()}):$(".st_confirm_btn.success").off("click").on("click",function(){closeMask()})}function closeMask(){$("#st_mask,#st_alertBox,#st_confirmBox").hide()}function getCookie(t){for(var e=document.cookie.split("; "),i=0;i<e.length;i++){var n=e[i].split("=");if(t==n[0])return n[1]}return null}function toolbarIsSuspension(){return!!window.csdn.configuration_tool_parameterv}$(function(){var t=$("div.box-box-default"),e=$("div.box-box-large");boxAways=$("div.box-box-aways"),t.find("a.btn-remove").click(function(){t.remove()}),e.find("a.btn-remove").click(function(){e.remove()}),boxAways.find("a.btn-remove").click(function(){boxAways.remove()})}),window.addLoadEvent=window.addLoadEvent?window.addLoadEvent:function(t){var e=window.onload;"function"!=typeof window.onload?window.onload=t:window.onload=function(){e(),t()}},$(function(){function t(){}function e(t){$(t).text("点开这里查看关注").fadeIn(),setTimeout(function(){$(t).fadeOut()},3e3)}t.prototype.animation=function(){if(!currentUserName)return!1;var t=$(this).offset(),i=$(".loginCenter").offset().top,n=$(".loginCenter").offset().left+20,s=t.left+80,o=t.top+20,a=$("#pointDivs .point-pre").first().removeClass("point-pre").css({left:s+"px",top:o+"px"}),r=a.find(".point-inner");setTimeout(function(){a[0].style.webkitTransform="translate3d(0,"+(i-o)+"px,0)",r[0].style.webkitTransform="translate3d("+(n-s)+"px,0,0)",setTimeout(function(){a.removeAttr("style").addClass("point-pre"),r.removeAttr("style"),e(".guo_tip_box")},800)},1)},t.prototype.animationInit=function(){for(var t=$('<div id="pointDivs"></div>').appendTo("body"),e=0;e<5;e++)$('<div class="point-outer point-pre"><div class="point-inner"/></div></div>').appendTo(t)},window.CSDNAnimation=t}),$(function(){function t(){return window.devicePixelRatio>1}$(document).on("mouseenter",".badge .icon-badge",function(t){var e=$(this).find(".grade-detail-box"),i=104;e.css({top:$(this).position().top-i-(e.outerHeight()-i)})}),function(){if(t()){var e=$(".user-years");e.length>0&&(e=e.attr("src").split("/")[$(".user-years").attr("src").split("/").length-1],$(".user-years").attr("src","https://g.csdnimg.cn/static/user-reg-year/2x/"+e))}}()}),(isCorporate||"undefined"==typeof articleId||$(window).width()>0)&&$(document).ready(fixedSidebarInButton),window.leftFixedSide?window.leftFixedSide:window.leftFixedSide={},window.leftFixedSide.fixedSidebarInButton=fixedSidebarInButton,$(function(){function t(){var t=document.cookie.match(new RegExp("(^| )UserName=([^;]*)(;|$)"));return t?t[2]:""}function e(t){$("#fan").text().indexOf("+")<0?$("#fan").text(parseInt($("#fan").text())+t):$("#fanBox").attr("title",parseInt($("#fanBox").attr("title"))+t);var e=$(".fans_read_more");e.length>0&&e.trigger("click")}function i(t){var e=t.hasClass("attented");e?s(t):n(t)}function n(t){var i="https://me.csdn.net/api/relation/create?source=blog";$.ajax({type:"POST",url:i,contentType:"application/json; charset=utf-8",data:JSON.stringify({username:username}),xhrFields:{withCredentials:!0},success:function(i){i="object"!=typeof i?JSON.parse(i):i,200===i.code&&(t.addClass("attented").text("已关注"),e(1))},error:function(t){t="object"!=typeof t.responseText?JSON.parse(t.responseText):t.responseText,400102==t.code&&window.csdn.loginBox.show()}})}function s(t){var i="https://me.csdn.net/api/relation/destroy?source=blog";$.ajax({type:"POST",url:i,contentType:"application/json; charset=utf-8",data:JSON.stringify({username:username}),xhrFields:{withCredentials:!0},success:function(i){200==i.code?(t.text("关注").removeClass("attented"),e(-1)):console.error(i.msg)}})}var o=new window.CSDNAnimation;o.animationInit(),$(".personal-watch").click(function(t){i($(".personal-watch"))}),t()}),function(){function t(t){var e=document.createElement("div");void 0!=e.textContent?e.textContent=t:e.innerText=t;var i=e.innerHTML;return e=null,i}function e(t){var e="";return 0==t.length?"":(e=t.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"))}window.csdn?window.csdn:window.csdn={},window.csdn.htmlEncode_inner=t,window.csdn.htmlEncode_Escape=e}(),$(function(){!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t):function(t){return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t){if(!t||!t.document&&!t.load)throw new Error("KeywordLinker requires window with document, or using cheerio");var e={ignoreTags:["a","img","textarea","select","input","button","script","style","link","pre","video","svg","canvas","audio","head","iframe","frame","area","meta","embed","object","applet","xml","xmp","plaintext","code"]},i=function(t){this.keywords=t,this.counterMax=3,this.counter={},this.reportDate=this.getDate()};i.prototype={getDate:function(){var t=new Date,e=t.getMonth()+1,i=t.getDate();return s=(e<10?"0"+e:e)+(i<10?"0"+i:i),s},addLink2Dom:function(t){for(var e=[],i=0;i<this.keywords.length;i++){var n=Object.assign({},this.keywords[i]);e.push(n)}this.keywordArr=e,this.__initRegExp(),this.__addLink2Dom(t)},__initRegExp:function(){if(this.counterMax<=0||!this.keywordArr)return void(this.keywordRegExp1=null);for(var t=[],e=0;e<this.keywordArr.length;e++){var i=this.keywordArr[e];if(i.name){var n={};n.reg=i.name,n.link=i.link,t.push(n)}}this.keywordRegExp1=t},__addLink2Dom:function(i){if(!i||!i.childNodes||!this.keywordRegExp1)return i;for(var n=0;n<i.childNodes.length;n++){if(!this.keywordRegExp1||this.counterMax<=0)return i;var s=i.childNodes[n],o=(s.nodeName||s.tagName||s.name||s.type||"").toLowerCase();if("#text"===o||"text"===o||3==s.nodeType){var a=s.nodeValue||"";if(!a.trim())continue;var r=this.__replaceText(a);if(r!==a)if(t.load)t(s).replaceWith('<span class="hot-wrap">'+r+"</span>");else if(t.document){var d=t.document.createElement("span");d.className="hot-wrap",d.innerHTML=r,i.replaceChild(d,s)}}else o&&e.ignoreTags.indexOf(o)<0&&0!==o.indexOf("#")&&this.__addLink2Dom(s)}},__replaceText:function(t){if(!this.keywordRegExp1||!t||!t.trim())return t;for(var e=this,i=0,n=this.keywordRegExp1.length;i<n;i++)t=t.replace(this.keywordRegExp1[i].reg,function(t){if(e.counter[t]>0)return e.counter[t]++,t;e.counter[t]=1,e.counterMax--;var n='<a class="hot-keyword" target="_blank" data-report-query="utm_source=blog_conttxt'+e.reportDate+'" href='+e.keywordRegExp1[i].link+">"+t+"</a>";return n});return t}},t.KeywordLinker=i}),$.ajax({url:"/api/ArticleHighWords/list",type:"GET",xhrFields:{withCredentials:!0},success:function(t){if(t.result){keywords1=t.data;var e=document.getElementById("content_views");keywords1.sort(function(){return.5-Math.random()}),new KeywordLinker(keywords1).addLink2Dom(e)}},error:function(t){}})}),$(function(){var t=document.createElement("script");t.src="https://g.csdnimg.cn/side-toolbar/2.0/side-toolbar.js",document.body.appendChild(t)}),function(t,e){function i(t,i,n,s){e.post(t,i,n,s)}window.csdn?window.csdn:window.csdn={},window.csdn.post=i}(window,jQuery);var st_timer=null;$(function(){showInit()}),$(function(){function t(t,e,i){$.ajax({url:t,type:"POST",data:e,xhrFields:{withCredentials:!0},success:function(t){if(n.skinBoxshadow.html(""),t.status){var e='<div class="skin-success skin-tip skin-massage">          <svg t="1513153231313" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4182" id="mx_n_1513153231314" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m244.8 392L467.2 691.2c-8 9.6-24 12.8-36.8 12.8-12.8 0-27.2-3.2-36.8-12.8L267.2 560c-16-16-16-43.2 0-59.2s41.6-16 57.6 0l105.6 110.4 267.2-278.4c16-16 41.6-16 57.6 0s16 43.2 1.6 59.2z" p-id="4183" fill=""></path></svg>          <span>'+t.error+"</span>          </div>";n.skinBoxshadow.append(e),n.skinBoxshadow.fadeIn(200),setTimeout(function(){n.skinBoxshadow.fadeOut(200),n.skinTipbox.slideUp(200),""!==i&&(window.location.href=i.window_url)},1e3)}else if(2===t.data.type){var s='<div class="skin-vip skin-adopt skin-massage">            <p class="skin-title">            <svg t="1513590447537" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9504" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m0 832c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m64-320c0 35.2-28.8 64-64 64s-64-28.8-64-64V256c0-35.2 28.8-64 64-64s64 28.8 64 64v256z" p-id="9505" fill=""></path></svg>            <span>你还不是VIP会员</span></p>            <p class="skin-text">本皮肤为VIP用户可用哦，请您开通VIP会员后再试！</p>            <a href="https://mall.csdn.net/vip?utm_source=skinTemplateVip" class="adopt-vip" target="_blank">                <img class="isvip" src="'+blogUrl+'static_files/static_blog/images/crown.png" >                <span>开通VIP会员</span>            </a>            <div class="skin-bt-close"><svg t="1567152543821" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10924" width="200" height="200"><path d="M512 438.378667L806.506667 143.893333a52.032 52.032 0 1 1 73.6 73.621334L585.621333 512l294.485334 294.485333a52.074667 52.074667 0 0 1-73.6 73.642667L512 585.621333 217.514667 880.128a52.053333 52.053333 0 1 1-73.621334-73.642667L438.378667 512 143.893333 217.514667a52.053333 52.053333 0 1 1 73.621334-73.621334L512 438.378667z" fill="" p-id="10925"></path></svg></div>          </div>';n.skinBoxshadow.append(s),n.skinBoxshadow.fadeIn(200),$(".skin-bt-close").on("click",function(){n.skinBoxshadow.fadeOut(200)})}else if(3===t.data.type){var o='<div class="grade-vip skin-adopt skin-massage">            <p class="skin-title">            <svg t="1513590447537" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9504" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m0 832c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m64-320c0 35.2-28.8 64-64 64s-64-28.8-64-64V256c0-35.2 28.8-64 64-64s64 28.8 64 64v256z" p-id="9505" fill=""></path></svg>            <span>'+t.error+'</span>            <p class="skin-text">开通VIP会员，即可专享所有皮肤哦～！</p>            <a href="https://mall.csdn.net/vip?utm_source=skinTemplateVip" class="adopt-vip" target="_blank">                <img class="isvip" src="'+blogUrl+'static_files/static_blog/images/crown.png" >                <span>开通VIP会员</span>            </a>            <div class="skin-bt-close"><svg t="1567152543821" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10924" width="200" height="200"><path d="M512 438.378667L806.506667 143.893333a52.032 52.032 0 1 1 73.6 73.621334L585.621333 512l294.485334 294.485333a52.074667 52.074667 0 0 1-73.6 73.642667L512 585.621333 217.514667 880.128a52.053333 52.053333 0 1 1-73.621334-73.642667L438.378667 512 143.893333 217.514667a52.053333 52.053333 0 1 1 73.621334-73.621334L512 438.378667z" fill="" p-id="10925"></path></svg></div>          </div>';n.skinBoxshadow.append(o),n.skinBoxshadow.fadeIn(200),$(".skin-bt-close").on("click",function(){n.skinBoxshadow.fadeOut(200)})}else{var a='<div class="skin-error skin-tip skin-massage">            <svg t="1513590447537" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9504" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m0 832c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m64-320c0 35.2-28.8 64-64 64s-64-28.8-64-64V256c0-35.2 28.8-64 64-64s64 28.8 64 64v256z" p-id="9505" fill=""></path></svg>            <span>'+t.error+"</span>            </div>";n.skinBoxshadow.append(a),n.skinBoxshadow.fadeIn(200),setTimeout(function(){n.skinBoxshadow.fadeOut(200)},1e3)}},error:function(t){n.skinBoxshadow.html("");var e='<div class="skin-error skin-tip skin-massage">        <svg t="1513590447537" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9504" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m0 832c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m64-320c0 35.2-28.8 64-64 64s-64-28.8-64-64V256c0-35.2 28.8-64 64-64s64 28.8 64 64v256z" p-id="9505" fill=""></path></svg>        <span>保存失败！请重新保存</span>        </div>';n.skinBoxshadow.append(e),n.skinBoxshadow.fadeIn(200),setTimeout(function(){n.skinBoxshadow.fadeOut(200)},1e3)}})}function e(){var t,e,i=window.location.href;return i.indexOf("?assign_skin_id")!=-1?(e=i.split("?")[0],t=i.split("?")[1].split("=")[1]):e=i,t=parseInt(t)?parseInt(t):"",{window_url:e,skin_id:t}}function i(){function t(){d={img_title:n.userSkin.find("#uploadHeaderimg").attr("value"),img_back:n.userSkin.find("#uploadBgimg").attr("value"),img_column:n.userSkin.find("#uploadColumnimg").attr("value"),color_title:n.userSkin.find("#topicColor").val(),color_title_hover:n.userSkin.find("#topicHoverColor").val(),color_sub_title:n.userSkin.find("#subTopicColor").val()};var t="^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$",e=new RegExp(t);return""===d.img_title?(o("头图必传",!1),!1):!(""!==d.color_title&&!e.test(d.color_title))||(o("请填写正确的颜色值",!1),!1)}function i(){n.userSkin.find("input").val(""),$("#uploadHeaderimg").value="",$("#uploadBgimg").value="",$("#uploadColumnimg").value="",n.userSkin.find(".upload-icon").show(),n.userSkin.find(".success-upload-icon").hide(),n.userSkin.find(".tip-massage").html("点击选择上传的图片"),n.userSkin.fadeOut(200)}function s(t,e,i){var s=blogUrl+"pheapi/skin/"+t;$.ajax({url:s,type:"POST",data:e,xhrFields:{withCredentials:!0},success:function(e){setTimeout(function(){if(!e.status)if(null===e.data&&""!==e.content)o(e.content);else if(1===e.data.type)o(e.error,!0);else{var s='<div class="skin-vip skin-adopt skin-massage">                        <p class="skin-title">                        <svg t="1513590447537" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9504" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m0 832c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m64-320c0 35.2-28.8 64-64 64s-64-28.8-64-64V256c0-35.2 28.8-64 64-64s64 28.8 64 64v256z" p-id="9505" fill=""></path></svg>                        <span>你还不是VIP会员</span></p>                        <p class="skin-text">本功能为VIP用户可用哦，请您开通VIP会员后再试！</p>                        <a href="https://mall.csdn.net/vip?utm_source=skinTemplateVip" class="adopt-vip" target="_blank">                            <img class="isvip" src="'+blogUrl+'static_files/static_blog/images/crown.png" >                            <span>开通VIP会员</span>                        </a>                        <div class="skin-bt-close"><svg t="1567152543821" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10924" width="200" height="200"><path d="M512 438.378667L806.506667 143.893333a52.032 52.032 0 1 1 73.6 73.621334L585.621333 512l294.485334 294.485333a52.074667 52.074667 0 0 1-73.6 73.642667L512 585.621333 217.514667 880.128a52.053333 52.053333 0 1 1-73.621334-73.642667L438.378667 512 143.893333 217.514667a52.053333 52.053333 0 1 1 73.621334-73.621334L512 438.378667z" fill="" p-id="10925"></path></svg></div>                      </div>';n.skinBoxshadow.append(s),n.skinBoxshadow.fadeIn(200),$(".skin-bt-close").on("click",function(){n.skinBoxshadow.fadeOut(200),n.skinBoxshadow.html("")})}"previewSkin"===t?!!i&&i(e.status,e.data?e.data:"操作成功"):!!i&&i(e.status,e.error?e.error:"操作成功")},2e3)},error:function(t){o("系统错误，请重新上传",!1)}})}function o(t,e){n.skinBoxshadow.html("");var i="";i=e?'<div class="skin-success skin-tip skin-massage">        <svg t="1513153231313" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4182" id="mx_n_1513153231314" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m244.8 392L467.2 691.2c-8 9.6-24 12.8-36.8 12.8-12.8 0-27.2-3.2-36.8-12.8L267.2 560c-16-16-16-43.2 0-59.2s41.6-16 57.6 0l105.6 110.4 267.2-278.4c16-16 41.6-16 57.6 0s16 43.2 1.6 59.2z" p-id="4183" fill=""></path></svg>        <span>'+t+"</span>        </div>":'<div class="skin-error skin-tip skin-massage">        <svg t="1513590447537" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9504" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m0 832c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m64-320c0 35.2-28.8 64-64 64s-64-28.8-64-64V256c0-35.2 28.8-64 64-64s64 28.8 64 64v256z" p-id="9505" fill=""></path></svg>        <span>'+t+"</span>        </div>",n.skinBoxshadow.append(i),n.skinBoxshadow.fadeIn(200),setTimeout(function(){n.skinBoxshadow.fadeOut(200)},1e3)}function a(t){var e=null;return void 0!=window.createObjectURL?e=window.createObjectURL(t):void 0!=window.URL?e=window.URL.createObjectURL(t):void 0!=window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),e}function r(t){n.cropBox.find("#cropImg").cropper({aspectRatio:t,viewMode:2,dragMode:"crop",preview:".small",responsive:!0,restore:!1,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:1,movable:!0,scalable:!1,zoomable:!0,rotatable:!1,preview:document.querySelectorAll(".final-img")})}$(".customize").click(function(){n.userSkin.fadeIn(200)});var d={img_title:"",img_back:"",img_column:"",color_title:"",color_title_hover:"",color_sub_title:""};n.userSkin.find(".bt-back").click(function(){i()}),n.userSkin.find(".user-skin-refer").click(function(){window.csdn.userLogin.loadAjax(function(){if(t()){var i=function(t,i){t&&(o(i,!0),setTimeout(function(){var t=e();window.location.href=t.window_url},200))};s("saveSkinCustomer",d,i)}})}),n.userSkin.find(".user-skin-preview").click(function(){if(t()){var e=function(t,e){t&&window.open(e)};s("previewSkin",d,e)}});var c;n.uploadSkinImg.change(function(t){var e=$(this)[0].files[0],i=e.type,s=e.size/1024;if(!/.(jpg|jpeg|png)$/.test(i))return o("请上传jpg、png格式图片",!1),!1;var d=a(e);switch(n.cropBox.find(".crop-img-before img").attr("src",d),c=$(this)[0].id,n.cropBox.find("#cropImg").cropper("destroy"),c){case"uploadHeaderimg":if(r(19.2),2048<s)return void o("请选择2M以内的图片",!1);n.cropBox.find("#cropImg").cropper("setCropBoxData",{width:1920,height:100});break;case"uploadBgimg":if(1024<s)return void o("请选择1M以内的图片",!1);r(1),n.cropBox.find("#cropImg").cropper("setCropBoxData",{width:100,height:100});break;case"uploadColumnimg":if(512<s)return void o("请选择0.5M以内的图片",!1);r(300/38),n.cropBox.find("#cropImg").cropper("setCropBoxData",{width:300,height:38})}n.cropBox.fadeIn(200),$(this)[0].value=""}),n.cropBox.find(".bt-back").click(function(){n.cropBox.fadeOut(200),n.cropBox.find("#cropImg").cropper("destroy")}),n.cropBox.find(".bt-next").click(function(){var t="",e="",i="";switch(c){case"uploadHeaderimg":t=1920,e=100,i="img_title";break;case"uploadBgimg":t=100,e=100,i="img_back";break;case"uploadColumnimg":t=300,e=38,i="img_column"}n.cropBox.find("#cropImg").cropper("getCroppedCanvas",{width:t,height:e,minWidth:t,minHeight:e,maxWidth:t,maxHeight:e}).toBlob(function(t){var e=new FormData;e.append("file",t),e.append("img_type",i),$.ajax("/pheapi/skin/skin_upload_img",{method:"POST",data:e,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},success:function(t){if(t.result){var e=$("#"+c);switch(e.attr("value",t.url),c){case"upload-headerimg":d.img_title=e.val();break;case"upload-bgimg":d.img_back=e.val();break;case"upload-columnimg":d.img_column=e.val()}e.siblings(".upload-img").find(".upload-icon").hide(),e.siblings(".upload-img").find(".success-upload-icon").show(),e.siblings(".upload-img").find(".tip-massage").html("点击重新上传"),o("上传成功",!0),setTimeout(function(){n.cropBox.fadeOut(200)},1e3)}else o(t.content,!1),setTimeout(function(){n.cropBox.fadeOut(200)},1e3)},error:function(t){o("系统错误，请重新上传",!1),setTimeout(function(){n.cropBox.fadeOut(200)},1e3)}})},"image/png")}),n.cropBox.find(".bt-reduce").click(function(){n.cropBox.find("#cropImg").cropper("zoom",-.1)}),n.cropBox.find(".bt-add").click(function(){n.cropBox.find("#cropImg").cropper("zoom",.1)})}var n={skikTemplateBox:$(".skin-template-box"),skinTemplateItem:$(".skin-template-item"),skinList:$(".skin-list"),skinListShow:$(".skin-list-show"),skinItem:$(".skin-item"),skinTipbox:$("#skinTipbox"),skinChange:$("#skinChange"),meUser:$("#meUser"),skinBoxshadow:$(".skin-boxshadow"),userSkin:$("#userSkin"),cropBox:$("#cropBox"),uploadSkinImg:$(".upload-skin-img")};n.skinChange.on("click",function(){n.skikTemplateBox.fadeIn(200)}),$(document).mouseup(function(t){var e=n.skikTemplateBox;e.is(t.target)||0!==e.has(t.target).length||n.skikTemplateBox.fadeOut(200)}),n.skinTemplateItem.on("click",function(){var t=$(this).index();t<2?(n.skinTemplateItem.removeClass("skin-template-item-act"),$(this).addClass("skin-template-item-act"),n.skinList.hide(),n.skinList.eq(t).show()):(n.skikTemplateBox.fadeOut(200),n.userSkin.fadeIn(200))}),n.skinItem.on("click",function(){n.skinListShow.find("li").removeClass("skin-item-act"),$(this).addClass("skin-item-act"),n.skikTemplateBox.fadeOut(200)}),n.skinTipbox.on("click",".skin-exit",function(){n.skinTipbox.slideUp(200);var t=e();setTimeout(function(){window.location.href=t.window_url},200)}),n.skinTipbox.on("click",".skin-save",function(){var i=e(),n=blogUrl+"pheapi/skin/useSkin",s={skin_id:i.skin_id};t(n,s,i)}),i()}),window.csdn.configuration_tool_parameterv&&window.csdn.configuration_tool_parameterv({need_first_suspend:!0,need_little_suspend:!1,little_tool_id:"",little_need_insert_type:""}),$(function(){$("#csdnc-memberhead").fadeIn(500)});